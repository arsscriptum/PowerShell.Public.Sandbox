/* JS version 1.4*/
jQuery(document).ready((function(e){e("#loginCaptcha").closest(".modal-form-group").hide();e("#Login").find("input[name=to]").val();e("body").on("click",".login-modal-btn",(function(t){t.preventDefault();var i=window.location.href;"A"==e(this).prop("tagName")?i=e(this).attr("href"):"FORM"==e(this).prop("tagName")&&(i=e(this).attr("action")),e(".login-modal-div").find("input[name=to]").val(i),e(".login-modal-div").show()})),e("body").on("blur","input[required=required]",(function(){var t=e(this).val();e(".error-focus").removeClass("error-focus"),e("div.input-error").remove(),""!=t&&null!=t&&null!=t||(e(this).closest(".modal-form-group").append('<div class="input-error">Field can not be empty.</div>'),e(this).addClass("error-focus"),e(this).focus())})),e("body").on("keydown","input[required=required]",(function(){var t=e(this).val();""==t&&null==t&&null==t||(e(this).removeClass("error-focus"),e(this).closest(".modal-form-group").find(".input-error").remove())}));const t=()=>{e("body").css("position",""),e("body").css("overflow",""),window.onscroll=()=>{}};function i(t){"to"==t?window.location.href=to:"reset"==t?(q2to3(),e("#ruser").val(e("#fuser").val())):window.location.href==t?window.location.reload(!0):window.location.href=t}e("body").on("click",".close",(function(){t(),e(this).closest(".login-modal-div").fadeOut("fast")})),e(document).keypress((function(i){27==i.keyCode&&(t(),e(".login-modal-div").fadeOut("fast"))})),e("body").on("click",".login-modal-div",(function(){t(),e(".login-modal-div").fadeOut("fast")})),e("body").on("click",".login-modal-div .modal-content",(function(e){e.stopPropagation()})),e("body").on("click",".login-link, .forgot-link",(function(){e(this).hasClass("login-link")?(e(".forgot-div").slideUp(),e(".login-register-div").slideDown()):(e(".login-register-div").slideUp(),e(".forgot-div").slideDown(),function(e){if(!document.querySelector(`script[src="${e}"]`)){var t=document.createElement("script");t.src=e,document.head.appendChild(t)}}("https://www.google.com/recaptcha/api.js?render=6LdMFNUZAAAAAIuRtzg0piOT-qXCbDF-iQiUi9KY"))})),e(".signup-form").submit((function(t){t.preventDefault(),this1=e(this),e(".spinner-loading-overlay").show(),""===e(".signup-to-input").value&&(e(".signup-to-input").value=window.location.href),this1.find(".extra").empty(),this1.find("input[type=submit]").attr("disabled",!0);var o=n();return e.ajax({type:"POST",url:"https://authapi.geeksforgeeks.org/api-post/sign-up/",data:e(this).serialize()+"&browserInfo="+JSON.stringify(o),xhrFields:{withCredentials:!0},dataType:"json",success:function(t){if(this1.find("input[type=submit]").attr("disabled",!1),t.redirect)i(t.redirect);else if(t.msg){e(".spinner-loading-overlay").hide(),this1.find(".extra").append(`<div class="alert alert-info">${t.msg}</div>`);this1.find(".extra").find("div").text().trim();grecaptcha.reset(registerWidgetId)}},error:function(t,i,n){this1.find("input[type=submit]").attr("disabled",!1),e(".spinner-loading-overlay").hide(),this1.find(".extra").append(`<div class="alert alert-danger">${t?.responseJSON?.response}</div>`),console.log("An error occurred")},complete:function(){this1.find("input[type=submit]").attr("disabled",!1),grecaptcha.reset(registerWidgetId)}}),!1})),e(".signin-form").submit((function(t){t.preventDefault(),this1=e(this),e(".spinner-loading-overlay").show(),""===e(".signin-to-input").value&&(e(".signin-to-input").value=window.location.href),this1.find(".extra").empty(),this1.find("input[type=submit]").attr("disabled",!0);var o=n();return e.ajax({type:"POST",url:"https://authapi.geeksforgeeks.org/api-post/sign-in/",data:e(this).serialize()+"&browserInfo="+JSON.stringify(o),xhrFields:{withCredentials:!0},dataType:"json",success:function(t){this1.find("input[type=submit]").attr("disabled",!1),t.redirect?i(t.redirect):t.response&&(e(".spinner-loading-overlay").hide(),this1.find(".extra").append(`<div class="alert alert-danger">${t.response}</div>`),grecaptcha.reset(loginWidgetId))},error:function(t,i,n){this1.find("input[type=submit]").attr("disabled",!1),e(".spinner-loading-overlay").hide(),errorCodeText=t.responseJSON.response,"Captcha validation needed"==errorCodeText&&(e("#loginCaptcha").closest(".modal-form-group").find("input[name=recaptchaShow]").length||e("#loginCaptcha").closest(".modal-form-group").append('<input name="recaptchaShow" type="hidden" value="1">'),e("#loginCaptcha").closest(".modal-form-group").show()),this1.find(".extra").append(`<div class="alert alert-danger">${t?.responseJSON?.response}</div>`),grecaptcha.reset(loginWidgetId),console.log("An error occurred")},complete:function(){this1.find("input[type=submit]").attr("disabled",!1),grecaptcha.reset(loginWidgetId)}}),!1})),e(".forgot-form").submit((function(t){var o;return t.preventDefault(),this1=e(this),e(".spinner-loading-overlay").show(),this1.find(".extra").empty(),this1.find("input[type=submit]").attr("disabled",!0),this1.find(".reset-button").attr("disabled",!0),o=function(t){var o=n();e.ajax({type:"POST",url:"https://authapi.geeksforgeeks.org/api-post/send-emailcode/",data:e(this1).serialize()+"&server_type=web&browserInfo="+JSON.stringify(o),xhrFields:{withCredentials:!0},dataType:"json",success:function(t){this1.find("input[type=submit]").attr("disabled",!1),this1.find(".reset-button").attr("disabled",!1),t.redirect?i(t.redirect):t.msg&&(e(".spinner-loading-overlay").hide(),this1.find(".extra").append(`<div class="alert alert-info">${t.msg}</div>`),this1.find(".extra").find("div").text().trim(),grecaptcha.reset(forgotWidgetId))},error:function(t,i,n){this1.find("input[type=submit]").attr("disabled",!1),this1.find(".reset-button").attr("disabled",!1),this1.find(".extra").append(`<div class="alert alert-info">${t?.responseJSON?.msg}</div>`),e(".spinner-loading-overlay").hide(),console.log("An error occurred")},complete:function(){this1.find("input[type=submit]").attr("disabled",!1),this1.find(".reset-button").attr("disabled",!1),grecaptcha.reset(forgotWidgetId)}})},grecaptcha.ready((function(){grecaptcha.execute("6LdMFNUZAAAAAIuRtzg0piOT-qXCbDF-iQiUi9KY").then((function(e){document.getElementById("g-recaptcha-response-forgot-form").value=e,o(e)}))})),!1})),e("body").on("keydown","input[name=pass]",(function(t){if(e(this).closest("form").find("input[name=reqType]").length&&"Register"==e(this).closest("form").find("input[name=reqType]").val())return 32!==t.which})),e("#fblogin").click((function(t){t.preventDefault();var i=screen.width/2-300,o=screen.height/2-175,r=e("#Login").find("input[name=rem]").is(":checked"),a=e("#Login").find("input[name=to]").val(),s=JSON.stringify(n());window.open("https://authapi.geeksforgeeks.org/fb-login/?to="+encodeURIComponent(a)+"&rem="+r+"&browserInfo="+s,"_self","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=600, height=350,top="+o+", left="+i)})),e("#inlogin").click((function(t){t.preventDefault();var i=screen.width/2-300,o=screen.height/2-175,r=e("#Login").find("input[name=rem]").is(":checked"),a=e("#Login").find("input[name=to]").val(),s=JSON.stringify(n());window.open("https://authapi.geeksforgeeks.org/linkedin-login/?to="+encodeURIComponent(a)+"&rem="+r+"&browserInfo="+s,"_self","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=600, height=350,top="+o+", left="+i)})),e("#gitlogin").click((function(t){t.preventDefault();var i=JSON.stringify(n()),o=screen.width/2-300,r=screen.height/2-175,a=e("#Login").find("input[name=rem]").is(":checked"),s=e("#Login").find("input[name=to]").val();window.open("https://authapi.geeksforgeeks.org/github-login/?to="+encodeURIComponent(s)+"&rem="+a+"&browserInfo="+i,"_self","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=600, height=350,top="+r+", left="+o)})),e("#glogin").click((function(t){t.preventDefault();var i=e("#Login").find("input[name=rem]").is(":checked"),o=e("#Login").find("input[name=to]").val(),r=JSON.stringify(n());window.location="https://authapi.geeksforgeeks.org/google-login/?redirect="+encodeURIComponent(o)+"&remember="+i+"&browserInfo="+r}));try{requirejs.onError=function(e){if("mismatch"!==e.requireType)throw e;console.log("error: "+e)}}catch(e){console.log("error: "+e)}function n(){var e={};return e.appName=navigator.appName,e.appCodeName=navigator.appCodeName,e.cookieEnable=navigator.cookieEnabled,e.prodName=navigator.product,e.appVersion=navigator.appVersion,e.appOs=navigator.platform,e.appLang=navigator.language,e.vendorName=navigator.vendor,e.loginDomain="cdn",e}require.config({paths:{typeahead:gfgSiteUrl+"wp-content/themes/iconic-one/js/typeahead.jquery.min",bloodhound:gfgSiteUrl+"wp-content/themes/iconic-one/js/bloodhound.min"}}),require(["typeahead","bloodhound"],(function(t,i){var n=new i({initialize:!1,datumTokenizer:i.tokenizers.obj.whitespace("value"),queryTokenizer:i.tokenizers.whitespace,sufficient:5,prefetch:{url:utilDjangoCfUrl+"api/institutes/all/"},remote:{url:utilDjangoCfUrl+"api/institutes/%QUERY/all/",wildcard:"%QUERY",filter:function(e){return n.add(e),e}}});n.clearPrefetchCache(),n.initialize(),e("input.typeahead").typeahead({minLength:2,dynamic:!1,highlight:!0,cache:"sessionStorage",searchOnfocus:!0,offset:!0,blurOnTab:!0},{displaykey:"value",limit:15,source:n.ttAdapter(),accent:!0,templates:{empty:[""].join("\n")}})}))}));